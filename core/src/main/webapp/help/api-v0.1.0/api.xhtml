<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- 
   This software is Copyright by the Board of Trustees of Michigan
   State University (c) Copyright 2013, 2014.
   
   You may use this software under the terms of the GNU public license
   (GPL). The terms of this license are described at:
   http://www.gnu.org/licenses/gpl.txt
   
   Contact Information:
        Facility for Rare Isotope Beam
        Michigan State University
        East Lansing, MI 48824-1321
        http://frib.msu.edu
-->

<!--API Manual-->

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"              
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:fc="http://java.sun.com/jsf/composite/comps">

    <h3>API</h3>
    <p>The following table lists the interfaces to manage various Hour Log resources. It lists the resource name, 
        its URI, the HTTP method, its parameters, and the response from the API to the method. </p>
    <p:panel header='Application Programming Interface'  toggleable="true">
        <p:panelGrid style="text-align: left">  
            <f:facet name="header">  
                <p:row>  
                    <p:column>Resource</p:column>  
                    <p:column>Method</p:column>  
                    <p:column>Resource ID</p:column>  
                    <p:column>Description</p:column> 
                    <p:column>Returns</p:column>
                    <p:column>Parameters</p:column> 
                    <p:column>Examples</p:column> 
                </p:row>  
            </f:facet>  
            <p:row>  
                <p:column>Events</p:column>
                <p:column>GET</p:column>  
                <p:column>/events</p:column>  
                <p:column>Facility status events</p:column> 
                <p:column>List of <i>event</i></p:column>
                <p:column>
                    <ul><li><b>facility</b> (required): Name of the facility</li></ul>
                    <ul><li><b>from</b> (optional): From date, in YYYY-MM-DD format. Default: oldest entry date.</li></ul>
                    <ul><li><b>to</b> (optional): To date, in YYYY-MM-DD forma. Default: current date</li></ul>
                    <ul><li><b>start</b> (optional): Starting from this ordinal entry. First entry starts at 0. Default: 0</li></ul>
                    <ul><li><b>size</b> (optional): Maximum number of events to be returned. Maximum is 100 entries. Default: 100</li></ul>
                </p:column> 
                <p:column>
                    <ul><li>#{restRoot}/events?facility=CCF&amp;from=2015-02-08</li></ul>
                    <ul><li>#{restRoot}/events?facility=CCF&amp;from=2014-01-01&amp;to=2014-12-01&amp;start=1&amp;size=10</li></ul>
                </p:column> 
            </p:row>
            <p:row>  
                <p:column>Facility</p:column>  
                <p:column>GET</p:column>  
                <p:column>/facilities</p:column>  
                <p:column>List of facilities</p:column>
                <p:column>List of <i>facility</i></p:column>
                <p:column></p:column> 
                <p:column><ul><li>#{restRoot}/facilities</li></ul></p:column> 
            </p:row>
            <p:row>  
                <p:column>Notes</p:column>
                <p:column>GET</p:column>  
                <p:column>/notes</p:column>  
                <p:column>Notes (text part) of log entries from a facility's operations logbook</p:column> 
                <p:column>List of <i>note</i></p:column>
                <p:column>
                    <ul><li><b>facility</b> (required): Name of the facility</li></ul>
                    <ul><li><b>from</b> (optional): From date, in YYYY-MM-DD format. Default: oldest entry date.</li></ul>
                    <ul><li><b>to</b> (optional): To date, in YYYY-MM-DD forma. Default: current date</li></ul>
                    <ul><li><b>phrase</b> (optional): Containing this phrase</li></ul>
                    <ul><li><b>start</b> (optional): Starting from this ordinal entry. First entry starts at 0. Default: 0</li></ul>
                    <ul><li><b>size</b> (optional): Maximum number of events to be returned. Maximum is 100 entries. Default: 100</li></ul>                    
                </p:column> 
                <p:column>
                    <ul><li>#{restRoot}/notes?facility=CCF&amp;from=2015-02-08</li></ul>
                    <ul><li>#{restRoot}/notes?facility=CCF&amp;from=2014-01-01&amp;to=2014-12-01&amp;start=1&amp;size=10&amp;phrase=k500</li></ul>
                </p:column> 
            </p:row>
            <p:row>
                <p:column rowspan="2">Report</p:column>  
                <p:column>GET</p:column>  
                <p:column>/reports</p:column>  
                <p:column>List of reports</p:column> 
                <p:column>List of <i>report</i></p:column> 
                <p:column></p:column> 
                <p:column><ul><li>#{restRoot}/reports</li></ul></p:column> 
            </p:row>
            <p:row>                   
                <p:column>GET</p:column>  
                <p:column>/reports/summary</p:column>  
                <p:column>Summary of a facility: current experiment, source, vault, shift, mode, availability, and status </p:column> 
                <p:column>List of <i>summaryReport</i></p:column>
                <p:column>
                    <ul><li><b>facility</b>: Name of the facility</li></ul>
                </p:column> 
                <p:column>
                    <ul><li>#{restRoot}/reports/summary</li></ul>
                    <ul><li>#{restRoot}/reports/summary?facility=CCF</li></ul>
                </p:column> 
            </p:row>
            <p:row rendered="false">  
                <p:column>Shift</p:column>  
                <p:column>GET</p:column>  
                <p:column>/shifts</p:column>  
                <p:column>Current shift</p:column> 
                <p:column><i>shifts</i></p:column>
                <p:column></p:column> 
                <p:column><ul><li>#{restRoot}/shifts</li><li>#{restRoot}/shift</li></ul></p:column> 
            </p:row>              
        </p:panelGrid>
    </p:panel>
</ui:composition>